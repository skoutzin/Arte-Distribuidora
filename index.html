<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Arte Distribuidora</title>
    <meta name="description"
        content="Marketplace de imóveis e eletrodomésticos — negocie direto no WhatsApp. HTML/CSS/JS responsivo." />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="icon" href="/Logo Arte Distribuidora.jpg" type="image/jpeg">

    <style>
        /* =====================
        Variáveis / Reset
        ===================== */
        :root {
            /* Cores Amarelo e Preto */
            --bg: #ffffff;
            /* Preto quase puro */
            --card: #f5f5f5;
            /* Preto mais claro para cards */
            --muted: #e0e0e0;
            /* Cinza escuro para elementos mutados */
            --txt: #1a1a1a;
            /* Branco suave para texto principal */
            --sub: #aaaaaa;
            /* Cinza claro para texto secundário */
            --accent: #ff0000;
            /* Amarelo vibrante */
            --brand: #cc0000;
            /* Amarelo um pouco mais escuro para destaque */

            --radius: 14px;
            /* Raio das bordas */
            --glass: rgba(0, 0, 0, 0.05);
            /* Efeito de vidro para hover */

            --max-width: 1200px;
            /* Largura máxima do container */
            font-size: 16px;
            /* Tamanho da fonte base */
        }

        html {
            scroll-behavior: smooth;
        }

        /* Animação de rolagem suave */
        * {
            box-sizing: border-box
        }

        html,
        body {
            height: 100%;
            margin: 0;
            font-family: Inter, system-ui, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
            background: var(--bg);
            color: var(--txt);
            -webkit-font-smoothing: antialiased
        }

        a {
            color: inherit;
            text-decoration: none
        }

        img {
            display: block;
            max-width: 100%;
        }

        .container {
            width: min(var(--max-width), 94vw);
            margin: 0 auto
        }

        /* =====================
        Header
        ===================== */
        header {
            position: sticky;
            top: 0;
            z-index: 60;
            backdrop-filter: blur(8px) saturate(130%);
            background: transparent;

            border-bottom: 1px solid rgba(255, 255, 255, 0.05)
        }

        .nav {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
            padding: 12px 0
        }

        .brand {
            display: flex;
            gap: 12px;
            align-items: center
        }

        .logo img {
            width: 44px;
            height: 44px;
            border-radius: 8px;
            /* deixa a logo arredondada */
            object-fit: cover;
            /* evita distorção */
            display: block;
        }


        .brand h1 {
            font-size: 1.125rem;
            /* 18px */
            margin: 0
        }

        .menu {
            display: flex;
            gap: 12px;
            align-items: center
        }

        .menu a {
            padding: 8px 12px;
            border-radius: 10px;
            color: var(--sub);
            font-weight: 600
        }

        .menu a:hover {
            background: var(--glass);
            color: var(--txt)
        }

        .wa-btn {
            background: var(--brand);
            color: var(--bg);
            padding: 9px 12px;
            border-radius: 10px;
            font-weight: 700;
            transition: background-color 0.3s ease;
        }

        .wa-btn:hover {
            background: var(--accent);
        }

        /* =====================
        Carrossel / Banner Rotativo
        ===================== */
        .carousel {
            position: relative;
            width: 100%; /* Ajuste para preencher a largura total do container */
            max-width: 600px; /* Largura máxima definida para banners verticais */
            height: 900px; /* Altura definida */
            overflow: hidden;
            border-radius: 16px;
            margin: 24px auto; /* Centraliza o carrossel na página */
            touch-action: pan-y; /* Permite rolagem vertical enquanto o swipe horizontal é manipulado */
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
            
            /* Adicionei o cursor de "grab" */
            cursor: grab;
        }
        
        .carousel:active {
            cursor: grabbing;
        }

        .slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 0.8s ease-in-out;
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: flex-end; /* Alinha o conteúdo à esquerda */
            justify-content: flex-start;
        }
        
        .slide.active {
            opacity: 1;
        }
        
        /* Banner Style - ajustei para a referencia da netshoes */
        .banner {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: flex-start; /* Alinha o conteúdo à esquerda */
            justify-content: flex-start;
            color: white;
            text-align: left;
        }
        
        /* O conteúdo do banner não é mais necessário, já que as imagens são completas */
        
        .carousel-nav {
            display: none; /* Não precisamos mais dos botões de navegação, o swipe os substitui */
        }

        .dots {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 50;
        }

        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(100, 100, 100, 0.5);
            /* Cinza semi-transparente */
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .dot.active {
            background: #cc0000;
            /* Cor de destaque para o ponto ativo */
        }
        
        /* =====================
        Toolbar / Filters
        ===================== */
        .toolbar {
            display: flex;
            flex-wrap: wrap;
            /* Permite que os itens quebrem a linha em telas menores */
            gap: 12px;
            align-items: center;
            justify-content: space-between;
            margin-top: 18px
        }

        /* Ajusta o layout do filtro e da busca para telas pequenas */
        .filters {
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap;
        }

        .chip {
            padding: 8px 10px;
            border-radius: 999px;
            background: var(--muted);
            color: var(--sub);
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s ease, color 0.2s ease;
        }

        .chip.active {
            background: var(--accent);
            color: var(--bg);
        }

        .chip:hover {
            background: var(--accent);
            color: var(--bg);
        }

        .search {
            flex: 1;
            display: flex;
            align-items: center;
            gap: 8px;
            background: var(--card);
            border-radius: 12px;
            padding: 8px;
            border: 1px solid rgba(255, 255, 255, 0.05);
            min-width: 200px;
            /* Garante que a barra de busca tenha uma largura mínima */
        }

        .search input {
            flex: 1;
            border: 0;
            outline: 0;
            background: transparent;
            color: var(--txt);
            font-size: 0.9375rem;
            /* 15px */
        }

        .search select {
            margin-left: 10px;
            background: transparent;
            border: 0;
            color: var(--txt);
            font-weight: 700;
            cursor: pointer;
        }

        .search select option {
            background: var(--card);
            color: var(--txt);
        }

        /* =====================
        Grid / Cards
        ===================== */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            /* Melhor para responsividade */
            gap: 18px;
            margin: 22px 0 40px;
        }

        .card {
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.02), transparent);
            border-radius: 14px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: transform .18s ease, box-shadow .18s ease
        }

        .card:hover {
            transform: translateY(-6px);
            box-shadow: 0 18px 40px rgba(0, 0, 0, 0.4)
        }

        .thumb {
            aspect-ratio: 16/10;
            overflow: hidden
        }

        .meta {
            padding: 12px
        }

        .title {
            font-weight: 700;
            font-size: 0.9375rem;
            /* 15px */
        }

        .info {
            color: var(--sub);
            font-size: 0.8125rem;
            /* 13px */
            margin-top: 6px
        }

        .price {
            font-weight: 800;
            margin-top: 10px;
            color: var(--accent);
        }

        .actions {
            display: flex;
            gap: 8px;
            padding: 12px;
            flex-wrap: wrap;
            /* Permite que os botões quebrem a linha se necessário */
        }

        .btn.small {
            padding: 8px 10px;
            font-size: 0.875rem;
            /* 14px */
        }

        .btn.small.primary {
            flex: 1;
            /* Faz o botão principal expandir para preencher o espaço */
        }

        /* =====================
        Modal / Gallery
        ===================== */
        .modal {
            position: fixed;
            inset: 0;
            display: none;
            align-items: center;
            justify-content: center;
            background: linear-gradient(180deg, rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.95));
            z-index: 120
        }

        .modal.open {
            display: flex
        }

        .modal-card {
            width: min(1100px, 94vw);
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.03), transparent);
            border-radius: 12px;
            overflow: hidden;
            display: flex;
            /* Mudado de grid para flex */
            justify-content: center;
            align-items: center;
            border: 1px solid rgba(255, 255, 255, 0.05);
            max-height: 90vh;
            /* Impede que o modal seja mais alto que a tela */
        }

        .gallery-main {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 420px;
            position: relative;
            overflow: hidden;
        }

        .gallery-main img {
            height: 100%;
            width: 100%;
            object-fit: cover;
            /* Alterado para 'cover' para preencher o espaço */
        }

        /* close */
        div.close-x {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 130;

            /* Novo estilo, mais minimalista */
            padding: 12px;
            border-radius: 50%;
            cursor: pointer;
            color: #fff;
            font-size: 1.5rem;
            font-weight: bold;
            transition: background-color 0.2s ease, transform 0.2s ease;

            /* Removi o background e a sombra no estado padrão */
            background: transparent;
            box-shadow: none;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        div.close-x:hover {
            /* Adicionei um fundo semi-transparente no hover */
            background: rgba(255, 255, 255, 0.1);
            transform: scale(1.1);
        }

        div.close-x:active {
            transform: scale(0.95);
        }

        /* Novo botão de menu hamburger para mobile */
        .hamburger-menu {
            display: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--txt);
        }

        /* Novo menu mobile (overlay) */
        .mobile-menu {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 90;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 24px;
        }

        .mobile-menu.open {
            display: flex;
        }

        .mobile-menu a {
            font-size: 1.5rem;
            font-weight: 700;
            color: white;
            padding: 12px 0;
            width: 80%;
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .mobile-menu .wa-btn {
            background: var(--brand);
            color: var(--bg);
            padding: 12px 24px;
            border-radius: 12px;
            font-weight: 700;
            font-size: 1.25rem;
        }

        /* O footer permanece como está */

        /* responsive */
        @media (max-width:980px) {
            .hero {
                grid-template-columns: 1fr;
            }

            .grid {
                grid-template-columns: repeat(2, 1fr)
            }
        }

        @media (max-width:640px) {
            .menu {
                display: none;
                /* Esconde o menu de desktop */
            }

            .hamburger-menu {
                display: block;
                /* Mostra o botão do menu hamburger */
            }

            .toolbar {
                flex-direction: column;
                /* Empilha os itens da barra de ferramentas */
                align-items: stretch;
            }

            .filters {
                justify-content: center;
            }

            .search {
                width: 100%;
                /* Faz a barra de busca ocupar toda a largura */
            }

            .grid {
                grid-template-columns: 1fr;
            }

            .modal-card {
                width: 100vw;
                height: 100vh;
                border-radius: 0;
            }
        }

        /* Adicionada a nova classe para desativar a rolagem do corpo */
        body.no-scroll {
            overflow: hidden;
        }

        /* =====================
        Animações (Novas)
        ===================== */
        .animate-me {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        .animate-me.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .card.animate-me {
            transition: opacity 0.4s ease-out, transform 0.4s ease-out;
        }
    </style>
</head>

<body>

    <header>
        <div class="container nav">
            <div class="brand">
                <div class="logo">
                    <img src="Logo Arte Distribuidora.jpg" alt="Logo Arte Distribuidora">
                </div>
                <div>
                    <h1>Arte Distribuidora</h1>
                    <div style="color:var(--sub); font-size:12px; margin-top:3px">
                        Imóveis & Eletro — negocie via WhatsApp
                    </div>
                </div>
            </div>
            <nav class="menu">
                <a href="#catalogo">Catálogo</a>
                <a href="#sobre">Sobre</a>
                <a id="globalWa" class="wa-btn" href="#"><i class="fab fa-whatsapp"></i> WhatsApp</a>
            </nav>
            <div id="hamburger" class="hamburger-menu">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </header>

    <div id="mobileMenu" class="mobile-menu">
        <div class="close-x" id="closeMobileMenu">✕</div>
        <a href="#catalogo" data-close-menu>Catálogo</a>
        <a href="#sobre" data-close-menu>Sobre</a>
        <a id="globalWaMobile" class="wa-btn" href="#" data-close-menu><i class="fab fa-whatsapp"></i> WhatsApp</a>
    </div>


    <main class="container">
        
        <section class="carousel" id="carousel">
            <div class="slide active" style="background-image: url('/Banner.jpg');"></div>
            <div class="slide" style="background-image: url('/banner2.jpg');"></div>
            <div class="dots" id="dots"></div>
        </section>


        <div class="toolbar animate-me">
            <div class="filters">
                <div class="chip active" data-filter="all">Todos</div>
                <div class="chip" data-filter="imovel">Imóveis</div>
                <div class="chip" data-filter="eletro">Eletro</div>
            </div>
            <div class="search">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                    <path
                        d="M21 21L15.8 15.8M18 11C18 14.866 14.866 18 11 18C7.13401 18 4 14.866 4 11C4 7.13401 7.13401 4 11 4C14.866 4 18 7.13401 18 11Z"
                        stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
                <input id="search" placeholder="Buscar produtos" />
            </div>
        </div>

        <section id="catalogo">
            <div class="grid" id="grid"></div>
        </section>

        <section id="sobre" class="panel animate-me"
            style="margin-top:18px; padding:18px; border-radius:12px; background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent); border:1px solid rgba(255,255,255,0.05)">
            <h3>Sobre Nós</h3>
            <p style="color:var(--sub)">Na Arte distribuidora, acreditamos que seu lar merece o melhor.
                Somos uma loja online especializada em imóveis e eletrodomésticos, oferecendo produtos de qualidade que
                unem funcionalidade, conforto e estilo para transformar a sua casa em um verdadeiro lar.

                Trabalhamos com marcas reconhecidas e garantimos um catálogo atualizado, com variedade de opções para
                todos os gostos e orçamentos. Nosso compromisso é proporcionar a melhor experiência de compra, unindo
                preço justo, atendimento de excelência e entrega rápida.

                Mais do que vender, nosso objetivo é fazer parte da realização dos seus sonhos. Cada móvel, cada
                eletrodoméstico e cada detalhe que você escolhe conosco é pensado para trazer praticidade e bem-estar ao
                seu dia a dia.

                Seja bem-vindo(a) à Arte Distribuidora – aqui, sua casa ganha vida!.</p>
        </section>

        <footer style="margin-top:36px; border-top:1px solid rgba(255,255,255,0.05); padding-top:18px">
            <div style="display:flex; justify-content:space-between; gap:12px; align-items:center; flex-wrap:wrap">
                <div>© <span id="yr"></span> Arte Distribuidora</div>
                <div style="color:var(--sub)">Desenvolvido com foco em conversão — WhatsApp como canal</div>
            </div>
        </footer>
    </main>

    <div id="modal" class="modal" aria-hidden="true">
        <div class="modal-card">
            <div id="mainImg" class="gallery-main"><img alt="" src="" /></div>
        </div>
        <div class="close-x" id="closeModal" title="Fechar">✕</div>
    </div>

    <script>
        // =========================
        // CONFIG
        // =========================
        const DEFAULT_NUMBER = '5518997924261'; // substitua pelo número padrão (55 + DDD + número)

        // Aqui e onde anuncia os produtos
        const ITEMS = [
            { id: 'Conjunto Rubi', type: 'imovel', title: 'Conjunto Rubi', sellerName: 'Ana', sellerPhone: '5518997924261', createdAt: '2025-08-05', description: 'Colocar a Descricao aqui', images: ['Arte Distribuidora/Foto 1.jpg'] },
            { id: 'Conjunto Topázio', type: 'imovel', title: 'Conjunto Topázio', sellerName: 'Marcelo', sellerPhone: '5518997924261', createdAt: '2025-07-28', description: 'Colocar a Descricao aqui', images: ['Arte Distribuidora/Foto 2.jpg'] },
            { id: 'Conjunto Ametista', type: 'imovel', title: 'Conjunto Ametista', sellerName: 'João', sellerPhone: '5518997924261', createdAt: '2025-08-15', description: 'Colocar a Descricao aqui', images: ['Arte Distribuidora/Foto 3.jpg'] },
            { id: 'Conjunto Safira', type: 'imovel', title: 'Conjunto Safira', sellerName: 'Maria', sellerPhone: '5518997924261', createdAt: '2025-08-10', description: 'Colocar a Descricao aqui', images: ['Arte Distribuidora/Foto 4.jpg'] },
            { id: 'Conjunto Diamante', type: 'imovel', title: 'Conjunto Diamante', sellerName: 'Maria', sellerPhone: '5518997924261', createdAt: '2025-08-10', description: 'Colocar a Descricao aqui', images: ['Arte Distribuidora/Foto 5.jpg'] },
            { id: 'Conjunto Tulipa', type: 'imovel', title: 'Conjunto Tulipa', sellerName: 'Maria', sellerPhone: '5518997924261', createdAt: '2025-08-10', description: 'Colocar a Descricao aqui', images: ['Arte Distribuidora/Foto 6.jpg'] },
            { id: 'Conjunto Quartzo', type: 'imovel', title: 'Conjunto Quartzo', sellerName: 'Maria', sellerPhone: '5518997924261', createdAt: '2025-08-10', description: 'Colocar a Descricao aqui', images: ['Arte Distribuidora/Foto 7.jpg'] },
            { id: 'Conjunto Elegance', type: 'imovel', title: 'Conjunto Elegance', sellerName: 'Maria', sellerPhone: '5518997924261', createdAt: '2025-08-10', description: 'Colocar a Descricao aqui', images: ['Arte Distribuidora/Foto 9.jpg'] },
            { id: 'Conjunto Elegance', type: 'imovel', title: 'Conjunto Elegance', sellerName: 'Maria', sellerPhone: '5518997924261', createdAt: '2025-08-10', description: 'Colocar a Descricao aqui', images: ['Arte Distribuidora/Foto 10.jpg'] },
            { id: 'Conjunto Ônix', type: 'imovel', title: 'Conjunto Ônix', sellerName: 'Maria', sellerPhone: '5518997924261', createdAt: '2025-08-10', description: 'Colocar a Descricao aqui', images: ['Arte Distribuidora/Foto 11.jpg'] },
            { id: 'Conjunto Elegance', type: 'imovel', title: 'Conjunto Elegance', sellerName: 'Maria', sellerPhone: '5518997924261', createdAt: '2025-08-10', description: 'Colocar a Descricao aqui', images: ['Arte Distribuidora/Foto 12.jpg'] },
            { id: 'Conjunto Sextavada', type: 'imovel', title: 'Conjunto Sextavada', sellerName: 'Maria', sellerPhone: '5518997924261', createdAt: '2025-08-10', description: 'Colocar a Descricao aqui', images: ['Arte Distribuidora/Foto 13.jpg'] },
            { id: 'Conjunto Turmalina', type: 'imovel', title: 'Conjunto Turmalina', sellerName: 'Maria', sellerPhone: '5518997924261', createdAt: '2025-08-10', description: 'Colocar a Descricao aqui', images: ['Arte Distribuidora/Foto 14.jpg'] },
            { id: 'Conjunto Turquesa', type: 'imovel', title: 'Conjunto Turquesa', sellerName: 'Maria', sellerPhone: '5518997924261', createdAt: '2025-08-10', description: 'Colocar a Descricao aqui', images: ['Arte Distribuidora/Foto 15.jpg'] },
            { id: 'Fruteira Multiuso, Fruteira Classic, Mesa Microondas', type: ['imovel'], title: 'Fruteira Multiuso, Fruteira Classic, Mesa Microondas', sellerName: 'Maria', sellerPhone: '5518991572836', createdAt: '2025-08-10', description: 'Colocar a Descricao aqui', images: ['Arte Distribuidora/Foto 16.jpg', 'https://picsum.photos/seed/tv2/1200/800'] },
            { id: 'Mesa Bistrô, Banqueta Alfa', type: 'imovel', title: 'Mesa Bistrô, Banqueta Alfa', sellerName: 'Maria', sellerPhone: '5518991572836', createdAt: '2025-08-10', description: 'Colocar a Descricao aqui', images: ['Arte Distribuidora/Foto 17.jpg'] },
        ];

        // =========================
        // HELPERS
        // =========================
        const fmtBRL = n => typeof n === 'number' ? n.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' }) : 'Preço a negociar';
        let currentFilter = 'all';


        function buildWaLink(phone, item) {
            const p = phone || DEFAULT_NUMBER;
            const text = `Olá, tenho interesse no anúncio ${item.id} . Podemos conversar?`;
            return `https://wa.me/${p}?text=${encodeURIComponent(text)}`;
        }

        // =========================
        // Render cards
        // =========================
        function cardHTML(item) {
            const img = item.images && item.images[0] ? item.images[0] : 'https://picsum.photos/seed/placeholder/1200/800';
            return `
                <article class="card animate-me" data-id="${item.id}" data-type="${Array.isArray(item.type) ? item.type[0] : item.type}">
                    <div class="thumb"><img loading="lazy" src="${img}" alt="${escapeHtml(item.title)}"/></div>
                    <div class="meta">
                        <div class="title">${escapeHtml(item.title)}</div>
                        <div class="info">${item.city || ''} ${item.district ? '• ' + escapeHtml(item.district) : ''}</div>
                        ${item.description ? `<div class="description" style="font-size:14px; margin-top:6px; color:var(--sub)">${escapeHtml(item.description)}</div>` : ''}
                        <div class="price">${fmtBRL(item.price)}</div>
                    </div>
                    <div class="actions">
                        <a class="btn small primary" href="${buildWaLink(item.sellerPhone, item)}" target="_blank" rel="noopener"><i class="fab fa-whatsapp"></i> Negociar no WhatsApp</a>
                        <button class="btn small" data-action="open" data-id="${item.id}"><i class="fas fa-images"></i> Ver fotos</button>
                    </div>
                </article>
            `;
        }

        function renderGrid(list = ITEMS) {
            grid.innerHTML = list.map(cardHTML).join('');
            attachCardEvents();
            startAnimations();
        }

        // =========================
        // Modal (Galeria simplificada)
        // =========================
        const modal = document.getElementById('modal');
        const mainImg = document.querySelector('#mainImg img');
        let currentItem = null;

        function openGallery(itemId) {
            currentItem = ITEMS.find(i => i.id === itemId);
            if (!currentItem || !currentItem.images || currentItem.images.length === 0) return;
            showMain(currentItem.images[0]);
            modal.classList.add('open');
            modal.setAttribute('aria-hidden', 'false');
            document.body.classList.add('no-scroll');
        }

        function closeGallery() {
            modal.classList.remove('open');
            modal.setAttribute('aria-hidden', 'true');
            currentItem = null;
            document.body.classList.remove('no-scroll');
        }

        function showMain(src) {
            mainImg.src = '';
            const img = new Image();
            img.onload = () => mainImg.src = src;
            img.src = src;
        }

        // =========================
        // Events
        // =========================
        function attachCardEvents() {
            document.querySelectorAll('[data-action="open"]').forEach(btn => {
                btn.addEventListener('click', () => openGallery(btn.dataset.id));
            });
        }

        document.getElementById('closeModal').addEventListener('click', closeGallery);
        modal.addEventListener('click', (e) => {
            if (e.target === modal) closeGallery();
        });

        window.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && modal.classList.contains('open')) {
                closeGallery();
            }
        });

        // =========================
        // Search / Sort / Filter (simples)
        // =========================
        function applyFiltersAndSort() {
            let filtered = ITEMS;

            if (currentFilter !== 'all') {
                filtered = filtered.filter(item => {
                    const type = Array.isArray(item.type) ? item.type : [item.type];
                    return type.includes(currentFilter);
                });
            }

            const searchTerm = document.getElementById('search').value.trim().toLowerCase();
            if (searchTerm) {
                filtered = filtered.filter(i => (i.title + ' ' + (i.city || '') + ' ' + (i.district || '')).toLowerCase().includes(searchTerm));
            }

            const copy = [...filtered];
            renderGrid(copy);
        }

        document.getElementById('search').addEventListener('input', applyFiltersAndSort);


        document.querySelectorAll('.filters .chip').forEach(chip => {
            chip.addEventListener('click', (e) => {
                document.querySelectorAll('.filters .chip').forEach(c => c.classList.remove('active'));
                e.target.classList.add('active');
                currentFilter = e.target.dataset.filter;
                applyFiltersAndSort();
            });
        });

        // setup global WhatsApp links
        function setGlobalWa(n = DEFAULT_NUMBER) {
            const els = [document.getElementById('globalWa'), document.getElementById('globalWaMobile')];
            els.forEach(el => {
                if (!el) return;
                el.href = `https://wa.me/${n}?text=${encodeURIComponent('Olá! Vim pelo site e tenho interesse em negociar com Vocês.')}`;
                el.target = '_blank';
                el.rel = 'noopener';
            });
        }

        document.getElementById('yr').textContent = new Date().getFullYear();

        function escapeHtml(s) { return String(s).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;'); }

        // =========================
        // Animações (Novas)
        // =========================
        function startAnimations() {
            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.1
            };

            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);

            // Observar todos os elementos com a classe `animate-me`
            const animateElements = document.querySelectorAll('.animate-me');
            animateElements.forEach(el => observer.observe(el));
        }

        // =========================
        // Lógica do Menu Mobile
        // =========================
        const hamburger = document.getElementById('hamburger');
        const mobileMenu = document.getElementById('mobileMenu');
        const closeMobileMenu = document.getElementById('closeMobileMenu');

        hamburger.addEventListener('click', () => {
            mobileMenu.classList.add('open');
            document.body.classList.add('no-scroll');
        });

        closeMobileMenu.addEventListener('click', () => {
            mobileMenu.classList.remove('open');
            document.body.classList.remove('no-scroll');
        });

        // Fecha o menu ao clicar em um link
        document.querySelectorAll('[data-close-menu]').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.remove('open');
                document.body.classList.remove('no-scroll');
            });
        });

        // =========================
        // Carrossel
        // =========================
        const carousel = document.getElementById('carousel');
        const slides = document.querySelectorAll('.slide');
        const dotsContainer = document.getElementById('dots');
        let currentSlide = 0;
        let slideInterval;

        function showSlide(index) {
            slides.forEach((slide, i) => {
                slide.classList.remove('active');
                if (i === index) {
                    slide.classList.add('active');
                }
            });
            updateDots(index);
        }

        function updateDots(index) {
            dotsContainer.innerHTML = '';
            slides.forEach((_, i) => {
                const dot = document.createElement('span');
                dot.classList.add('dot');
                if (i === index) {
                    dot.classList.add('active');
                }
                dot.addEventListener('click', () => {
                    currentSlide = i;
                    showSlide(currentSlide);
                    resetInterval();
                });
                dotsContainer.appendChild(dot);
            });
        }

        function nextSlide() {
            currentSlide = (currentSlide + 1) % slides.length;
            showSlide(currentSlide);
        }

        function prevSlide() {
            currentSlide = (currentSlide - 1 + slides.length) % slides.length;
            showSlide(currentSlide);
        }

        function resetInterval() {
            clearInterval(slideInterval);
            slideInterval = setInterval(nextSlide, 5000); // 5 segundos
        }

        // =========================
        // Funcionalidade de Swipe (arrastar) para o Carrossel
        // =========================
        let startX = 0;
        let endX = 0;
        let isSwiping = false;

        carousel.addEventListener('touchstart', (e) => {
            startX = e.touches[0].clientX;
            isSwiping = true;
        });

        carousel.addEventListener('touchmove', (e) => {
            if (!isSwiping) return;
            endX = e.touches[0].clientX;
        });

        carousel.addEventListener('touchend', () => {
            if (!isSwiping) return;
            const threshold = 50; // Distância mínima para considerar um swipe
            if (endX < startX - threshold) {
                nextSlide();
                resetInterval();
            } else if (endX > startX + threshold) {
                prevSlide();
                resetInterval();
            }
            isSwiping = false;
            startX = 0;
            endX = 0;
        });

        // Para desktop (mouse drag)
        let isDragging = false;
        carousel.addEventListener('mousedown', (e) => {
            startX = e.clientX;
            isDragging = true;
            carousel.style.cursor = 'grabbing';
        });

        carousel.addEventListener('mousemove', (e) => {
            if (!isDragging) return;
            e.preventDefault(); // Evita seleção de texto durante o drag
            endX = e.clientX;
        });

        carousel.addEventListener('mouseup', () => {
            if (!isDragging) return;
            const threshold = 50;
            if (endX < startX - threshold) {
                nextSlide();
                resetInterval();
            } else if (endX > startX + threshold) {
                prevSlide();
                resetInterval();
            }
            isDragging = false;
            startX = 0;
            endX = 0;
            carousel.style.cursor = 'grab';
        });

        carousel.addEventListener('mouseleave', () => {
            isDragging = false; // Reseta isDragging se o mouse sair do carrossel
            carousel.style.cursor = 'grab';
        });

        // Iniciar tudo ao carregar a página
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelector('.filters .chip[data-filter="all"]').classList.add('active');
            applyFiltersAndSort(); // Aplica o filtro inicial e renderiza
            setGlobalWa();
            // Inicia o carrossel
            showSlide(currentSlide);
            slideInterval = setInterval(nextSlide, 5000);
            carousel.style.cursor = 'grab'; // Adiciona o cursor de "grab" inicialmente
        });
    </script>
</body>

</html>